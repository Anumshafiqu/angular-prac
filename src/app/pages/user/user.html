<div class="row">
    <div class="col-8">
        <div class="card">
            <div class="card-header bg-success">
                new user
            </div>
            <div class="card-body">

                <table class="table table-responsive">
                    <thead>
                        <th>emailId</th>
                        <th>password</th>
                        <th>fullName</th>
                        <th>mobileNo</th>
                        <th>Actions</th>

                    </thead>
                    <tbody>
                        @for (item of userList; track $index) {
                        <tr>
                            <td>{{item.emailId}}</td>
                            <td>{{item.password}}</td>
                            <td>{{item.fullName}}</td>
                            <td>{{item.mobileNo}}</td>
                            <td>
                                <button class="btn btn-success" (click)="onedit(item)">edit</button>
                                <button class="btn btn-danger mt-1" (click)="onDelete(item.userId)">delete</button>
                            </td>
                        </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

    </div>
    <div class="col-4">
        <div class="card">
            <div class="card-header bg-success text-white">
                user
            </div>
            <div class="card-body">
<form #formValue="ngForm">
  <div class="row">
    <!-- Email -->
    <div class="col-6">
      <label>Email</label>
      <input
        type="email"
        class="form-control"
        name="emailId"
        required
        pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
        [(ngModel)]="userObj.emailId"
        #emailId="ngModel"
      />
       @if(pwd.touched) {
      <div class="text-danger">
       
        @if (emailId.errors?.['required']) {
          <span>This is required</span>
        }
        @if (emailId.errors?.['pattern']) {
          <span>Email format is invalid</span>
        }
    
      </div>
    }
    </div>

    <!-- Password -->
    <div class="col-6">
      <label>Password</label>
      <input
        type="password"
        class="form-control"
        name="password"
        required
        minlength="4"
        [(ngModel)]="userObj.password"
        #pwd="ngModel"
      />
      <div class="text-danger">
        @if(pwd.touched) {
        @if (pwd.errors?.['required']) {
          <span>This is required</span>
        }
        @if (pwd.errors?.['minlength']) {
          <span>Minimum 4 characters required</span>
        }
        }

      </div>
    </div>

    <!-- Full Name -->
    <div class="col-6">
      <label>Full Name</label>
      <input
        type="text"
        class="form-control"
        name="fullName"
        [(ngModel)]="userObj.fullName"
      />
    </div>

    <!-- Mobile No -->
    <div class="col-6">
      <label>Mobile No</label>
      <input
        type="text"
        class="form-control"
        name="mobileNo"
        [(ngModel)]="userObj.mobileNo"
      />
    </div>
  </div>

  <div class="mt-3">
    <button class="btn btn-success mr-2" type="button" (click)="onResetUser()">Reset</button>
    @if(userObj.userId == 0){
      <button
        class="btn btn-success"
        type="button"
        (click)="onsaveUser()"
        [disabled]="formValue.invalid"
      >
        Save
      </button>
    } @else {
      <button class="btn btn-success" type="button" (click)="onUpdateUser()">Update</button>
    }
  </div>
</form>


            </div>
        </div>

    </div>
</div>